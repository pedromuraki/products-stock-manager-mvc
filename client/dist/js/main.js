!function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,n){t.exports=n(2)},function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(1);function i(t,e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Object.assign(this,{name:t,sku:e,qty:n,price:r}),Object.freeze(this)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=[new i("T-shirt","123","150","29.99"),new i("Hat","456","75","79.99")],u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=JSON.parse(window.localStorage.getItem("productsListItems"))||o,Object.freeze(this)}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(t,[{key:"add",value:function(t){this._items.push(t),this._updateLocalStorage()}},{key:"remove",value:function(t){this._items.splice(t,1),this._updateLocalStorage()}},{key:"update",value:function(t,e){this._items[t]=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},this._items[t],e),this._updateLocalStorage()}},{key:"_updateLocalStorage",value:function(){window.localStorage.setItem("productsListItems",JSON.stringify(this._items))}},{key:"items",get:function(){return this._items}}]),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._listWrapper=t,Object.freeze(this)}return function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(e,[{key:"render",value:function(t){this._listWrapper.innerHTML=t.items.reduce(function(t,e){var n=e.name,r=e.sku,i=e.qty,o=e.price;return"\n        <tr>\n          <td>".concat(r,"</td>\n          <td>").concat(n,'</td>\n          <td>\n            <input type="number" class="form-control" placeholder="Quantity" min="1" data-sku=').concat(r,' data-input="qty" value="').concat(i,'">\n          </td>\n          <td>\n            <input type="number" class="form-control" placeholder="Sale Price" min="0.01" step="0.01" data-sku=').concat(r,' data-input="price" value="').concat(o,'"></td>\n          <td>\n            <button type="button" class="btn btn-primary btn-sm" data-js="update" data-sku="').concat(r,'">Update</button>\n            <button type="button" class="btn btn-danger btn-sm" data-js="remove" data-sku="').concat(r,'">Remove</button>\n          </td>\n        </tr>\n        ').concat(t,"\n      ")},"")}}]),e}();function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this._content=t,this._type=e}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(n,[{key:"content",get:function(){return this._content},set:function(t){this._content=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}}]),n}();function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._msgWrapper=t,this._timeout=null}return function(t,e,n){e&&f(t.prototype,e),n&&f(t,n)}(e,[{key:"render",value:function(t){var e=this;clearTimeout(this._timeout),this._msgWrapper.innerHTML='\n      <div class="alert '.concat(t.type,'">\n        ').concat(t.content,"\n      </div>\n    "),this._timeout=setTimeout(function(){return e._clear()},5e3)}},{key:"_clear",value:function(){this._msgWrapper.innerHTML=""}}]),e}();function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){return Array.prototype.slice.call(e.querySelectorAll(t))}var h={_events:{},on:function(t,e){this._events[t]||(this._events=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({},this._events,d({},t,[]))),this._events[t].push(e)},emit:function(t,e){var n=this._events[t];n&&n.forEach(function(t){return t(e)})}};function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return(v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&b(i,n.prototype),i}).apply(null,arguments)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(){return O.forEach(function(t){t.value=""})}var w=new(function(){function r(t,e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this._listWrapper=t,this._productsList=new u,this._productsListView=new c(this._listWrapper),this._productsListView.render(this._productsList),this._addActionsListeners(),this._alertMsg=new l,this._alertMsgView=new p(e),Object.freeze(this),h.on("productsListChanged",function(){n._productsListView.render(n._productsList),n._alertMsgView.render(n._alertMsg),n._addActionsListeners()})}return function(t,e,n){e&&m(t.prototype,e),n&&m(t,n)}(r,[{key:"add",value:function(e,t){if(0<this._productsList.items.filter(function(t){return t.sku===e.sku}).length)return this._updateAlertMsgContent("#".concat(e.sku," already exists in inventory."),"alert-danger"),void this._alertMsgView.render(this._alertMsg);this._updateAlertMsgContent("#".concat(e.sku," added to inventory."),"alert-success"),this._productsList.add(e),h.emit("productsListChanged"),t&&t(),console.log(this._productsList.items)}},{key:"remove",value:function(e,t){var n=this._productsList.items.findIndex(function(t){return t.sku===e});if(n<0)throw new Error("SKU no found.");this._updateAlertMsgContent("#".concat(e," removed from inventory."),"alert-warning"),this._productsList.remove(n),h.emit("productsListChanged"),t&&t()}},{key:"update",value:function(e,t){var n={qty:this._listWrapper.querySelector('input[data-sku="'.concat(e,'"][data-input="qty"]')).value,price:this._listWrapper.querySelector('input[data-sku="'.concat(e,'"][data-input="price"]')).value},r=this._productsList.items.findIndex(function(t){return t.sku===e});if(r<0)throw new Error("SKU no found.");this._updateAlertMsgContent("#".concat(e," updated."),"alert-success"),this._productsList.update(r,n),h.emit("productsListChanged"),t&&t()}},{key:"_addActionsListeners",value:function(){var e=this,t=y('[data-js="remove"]',this._listWrapper);0<t.length&&t.forEach(function(t){return t.addEventListener("click",function(){return e.remove(t.getAttribute("data-sku"))})});var n=y('[data-js="update"]',this._listWrapper);0<n.length&&n.forEach(function(t){return t.addEventListener("click",function(){return e.update(t.getAttribute("data-sku"))})})}},{key:"_updateAlertMsgContent",value:function(t,e){this._alertMsg.content=t,this._alertMsg.type=e}}]),r}())(document.getElementById("list"),document.getElementById("msg")),k=document.getElementById("form"),O=[document.getElementById("product"),document.getElementById("sku"),document.getElementById("qty"),document.getElementById("salePrice")];k.addEventListener("submit",function(t){t.preventDefault(),w.add(v(i,g(O.map(function(t){return t.value}))),_)})}]);
//# sourceMappingURL=main.js.map